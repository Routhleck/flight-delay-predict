{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * For geo and graph.\n *\n * @param {Object} controllerHost\n * @param {module:zrender/Element} controllerHost.target\n */\nfunction updateViewOnPan(controllerHost, dx, dy) {\n  var target = controllerHost.target;\n  var pos = target.position;\n  pos[0] += dx;\n  pos[1] += dy;\n  target.dirty();\n}\n/**\n * For geo and graph.\n *\n * @param {Object} controllerHost\n * @param {module:zrender/Element} controllerHost.target\n * @param {number} controllerHost.zoom\n * @param {number} controllerHost.zoomLimit like: {min: 1, max: 2}\n */\n\n\nfunction updateViewOnZoom(controllerHost, zoomDelta, zoomX, zoomY) {\n  var target = controllerHost.target;\n  var zoomLimit = controllerHost.zoomLimit;\n  var pos = target.position;\n  var scale = target.scale;\n  var newZoom = controllerHost.zoom = controllerHost.zoom || 1;\n  newZoom *= zoomDelta;\n\n  if (zoomLimit) {\n    var zoomMin = zoomLimit.min || 0;\n    var zoomMax = zoomLimit.max || Infinity;\n    newZoom = Math.max(Math.min(zoomMax, newZoom), zoomMin);\n  }\n\n  var zoomScale = newZoom / controllerHost.zoom;\n  controllerHost.zoom = newZoom; // Keep the mouse center when scaling\n\n  pos[0] -= (zoomX - pos[0]) * (zoomScale - 1);\n  pos[1] -= (zoomY - pos[1]) * (zoomScale - 1);\n  scale[0] *= zoomScale;\n  scale[1] *= zoomScale;\n  target.dirty();\n}\n\nexports.updateViewOnPan = updateViewOnPan;\nexports.updateViewOnZoom = updateViewOnZoom;","map":{"version":3,"names":["updateViewOnPan","controllerHost","dx","dy","target","pos","position","dirty","updateViewOnZoom","zoomDelta","zoomX","zoomY","zoomLimit","scale","newZoom","zoom","zoomMin","min","zoomMax","max","Infinity","Math","zoomScale","exports"],"sources":["F:/Wechatfile/WeChat Files/wxid_cre715h75uat22/FileStorage/MsgAttach/843d799c0bb5fd5ab828b2371b6d88b0/File/2022-07/project/project/app/node_modules/echarts/lib/component/helper/roamHelper.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * For geo and graph.\n *\n * @param {Object} controllerHost\n * @param {module:zrender/Element} controllerHost.target\n */\nfunction updateViewOnPan(controllerHost, dx, dy) {\n  var target = controllerHost.target;\n  var pos = target.position;\n  pos[0] += dx;\n  pos[1] += dy;\n  target.dirty();\n}\n/**\n * For geo and graph.\n *\n * @param {Object} controllerHost\n * @param {module:zrender/Element} controllerHost.target\n * @param {number} controllerHost.zoom\n * @param {number} controllerHost.zoomLimit like: {min: 1, max: 2}\n */\n\n\nfunction updateViewOnZoom(controllerHost, zoomDelta, zoomX, zoomY) {\n  var target = controllerHost.target;\n  var zoomLimit = controllerHost.zoomLimit;\n  var pos = target.position;\n  var scale = target.scale;\n  var newZoom = controllerHost.zoom = controllerHost.zoom || 1;\n  newZoom *= zoomDelta;\n\n  if (zoomLimit) {\n    var zoomMin = zoomLimit.min || 0;\n    var zoomMax = zoomLimit.max || Infinity;\n    newZoom = Math.max(Math.min(zoomMax, newZoom), zoomMin);\n  }\n\n  var zoomScale = newZoom / controllerHost.zoom;\n  controllerHost.zoom = newZoom; // Keep the mouse center when scaling\n\n  pos[0] -= (zoomX - pos[0]) * (zoomScale - 1);\n  pos[1] -= (zoomY - pos[1]) * (zoomScale - 1);\n  scale[0] *= zoomScale;\n  scale[1] *= zoomScale;\n  target.dirty();\n}\n\nexports.updateViewOnPan = updateViewOnPan;\nexports.updateViewOnZoom = updateViewOnZoom;"],"mappings":"AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,eAAT,CAAyBC,cAAzB,EAAyCC,EAAzC,EAA6CC,EAA7C,EAAiD;EAC/C,IAAIC,MAAM,GAAGH,cAAc,CAACG,MAA5B;EACA,IAAIC,GAAG,GAAGD,MAAM,CAACE,QAAjB;EACAD,GAAG,CAAC,CAAD,CAAH,IAAUH,EAAV;EACAG,GAAG,CAAC,CAAD,CAAH,IAAUF,EAAV;EACAC,MAAM,CAACG,KAAP;AACD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,SAASC,gBAAT,CAA0BP,cAA1B,EAA0CQ,SAA1C,EAAqDC,KAArD,EAA4DC,KAA5D,EAAmE;EACjE,IAAIP,MAAM,GAAGH,cAAc,CAACG,MAA5B;EACA,IAAIQ,SAAS,GAAGX,cAAc,CAACW,SAA/B;EACA,IAAIP,GAAG,GAAGD,MAAM,CAACE,QAAjB;EACA,IAAIO,KAAK,GAAGT,MAAM,CAACS,KAAnB;EACA,IAAIC,OAAO,GAAGb,cAAc,CAACc,IAAf,GAAsBd,cAAc,CAACc,IAAf,IAAuB,CAA3D;EACAD,OAAO,IAAIL,SAAX;;EAEA,IAAIG,SAAJ,EAAe;IACb,IAAII,OAAO,GAAGJ,SAAS,CAACK,GAAV,IAAiB,CAA/B;IACA,IAAIC,OAAO,GAAGN,SAAS,CAACO,GAAV,IAAiBC,QAA/B;IACAN,OAAO,GAAGO,IAAI,CAACF,GAAL,CAASE,IAAI,CAACJ,GAAL,CAASC,OAAT,EAAkBJ,OAAlB,CAAT,EAAqCE,OAArC,CAAV;EACD;;EAED,IAAIM,SAAS,GAAGR,OAAO,GAAGb,cAAc,CAACc,IAAzC;EACAd,cAAc,CAACc,IAAf,GAAsBD,OAAtB,CAfiE,CAelC;;EAE/BT,GAAG,CAAC,CAAD,CAAH,IAAU,CAACK,KAAK,GAAGL,GAAG,CAAC,CAAD,CAAZ,KAAoBiB,SAAS,GAAG,CAAhC,CAAV;EACAjB,GAAG,CAAC,CAAD,CAAH,IAAU,CAACM,KAAK,GAAGN,GAAG,CAAC,CAAD,CAAZ,KAAoBiB,SAAS,GAAG,CAAhC,CAAV;EACAT,KAAK,CAAC,CAAD,CAAL,IAAYS,SAAZ;EACAT,KAAK,CAAC,CAAD,CAAL,IAAYS,SAAZ;EACAlB,MAAM,CAACG,KAAP;AACD;;AAEDgB,OAAO,CAACvB,eAAR,GAA0BA,eAA1B;AACAuB,OAAO,CAACf,gBAAR,GAA2BA,gBAA3B"},"metadata":{},"sourceType":"script"}