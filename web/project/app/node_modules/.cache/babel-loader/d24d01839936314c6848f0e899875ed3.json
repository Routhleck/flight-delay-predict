{"ast":null,"code":"var env = require(\"../../core/env\"); // Fix weird bug in some version of IE11 (like 11.0.9600.178**),\n// where exception \"unexpected call to method or property access\"\n// might be thrown when calling ctx.fill or ctx.stroke after a path\n// whose area size is zero is drawn and ctx.clip() is called and\n// shadowBlur is set. See #4572, #3112, #5777.\n// (e.g.,\n//  ctx.moveTo(10, 10);\n//  ctx.lineTo(20, 10);\n//  ctx.closePath();\n//  ctx.clip();\n//  ctx.shadowBlur = 10;\n//  ...\n//  ctx.fill();\n// )\n\n\nvar shadowTemp = [['shadowBlur', 0], ['shadowColor', '#000'], ['shadowOffsetX', 0], ['shadowOffsetY', 0]];\n\nfunction _default(orignalBrush) {\n  // version string can be: '11.0'\n  return env.browser.ie && env.browser.version >= 11 ? function () {\n    var clipPaths = this.__clipPaths;\n    var style = this.style;\n    var modified;\n\n    if (clipPaths) {\n      for (var i = 0; i < clipPaths.length; i++) {\n        var clipPath = clipPaths[i];\n        var shape = clipPath && clipPath.shape;\n        var type = clipPath && clipPath.type;\n\n        if (shape && (type === 'sector' && shape.startAngle === shape.endAngle || type === 'rect' && (!shape.width || !shape.height))) {\n          for (var j = 0; j < shadowTemp.length; j++) {\n            // It is save to put shadowTemp static, because shadowTemp\n            // will be all modified each item brush called.\n            shadowTemp[j][2] = style[shadowTemp[j][0]];\n            style[shadowTemp[j][0]] = shadowTemp[j][1];\n          }\n\n          modified = true;\n          break;\n        }\n      }\n    }\n\n    orignalBrush.apply(this, arguments);\n\n    if (modified) {\n      for (var j = 0; j < shadowTemp.length; j++) {\n        style[shadowTemp[j][0]] = shadowTemp[j][2];\n      }\n    }\n  } : orignalBrush;\n}\n\nmodule.exports = _default;","map":{"version":3,"names":["env","require","shadowTemp","_default","orignalBrush","browser","ie","version","clipPaths","__clipPaths","style","modified","i","length","clipPath","shape","type","startAngle","endAngle","width","height","j","apply","arguments","module","exports"],"sources":["F:/Wechatfile/WeChat Files/wxid_cre715h75uat22/FileStorage/MsgAttach/843d799c0bb5fd5ab828b2371b6d88b0/File/2022-07/project/project/app/node_modules/zrender/lib/graphic/helper/fixClipWithShadow.js"],"sourcesContent":["var env = require(\"../../core/env\");\n\n// Fix weird bug in some version of IE11 (like 11.0.9600.178**),\n// where exception \"unexpected call to method or property access\"\n// might be thrown when calling ctx.fill or ctx.stroke after a path\n// whose area size is zero is drawn and ctx.clip() is called and\n// shadowBlur is set. See #4572, #3112, #5777.\n// (e.g.,\n//  ctx.moveTo(10, 10);\n//  ctx.lineTo(20, 10);\n//  ctx.closePath();\n//  ctx.clip();\n//  ctx.shadowBlur = 10;\n//  ...\n//  ctx.fill();\n// )\nvar shadowTemp = [['shadowBlur', 0], ['shadowColor', '#000'], ['shadowOffsetX', 0], ['shadowOffsetY', 0]];\n\nfunction _default(orignalBrush) {\n  // version string can be: '11.0'\n  return env.browser.ie && env.browser.version >= 11 ? function () {\n    var clipPaths = this.__clipPaths;\n    var style = this.style;\n    var modified;\n\n    if (clipPaths) {\n      for (var i = 0; i < clipPaths.length; i++) {\n        var clipPath = clipPaths[i];\n        var shape = clipPath && clipPath.shape;\n        var type = clipPath && clipPath.type;\n\n        if (shape && (type === 'sector' && shape.startAngle === shape.endAngle || type === 'rect' && (!shape.width || !shape.height))) {\n          for (var j = 0; j < shadowTemp.length; j++) {\n            // It is save to put shadowTemp static, because shadowTemp\n            // will be all modified each item brush called.\n            shadowTemp[j][2] = style[shadowTemp[j][0]];\n            style[shadowTemp[j][0]] = shadowTemp[j][1];\n          }\n\n          modified = true;\n          break;\n        }\n      }\n    }\n\n    orignalBrush.apply(this, arguments);\n\n    if (modified) {\n      for (var j = 0; j < shadowTemp.length; j++) {\n        style[shadowTemp[j][0]] = shadowTemp[j][2];\n      }\n    }\n  } : orignalBrush;\n}\n\nmodule.exports = _default;"],"mappings":"AAAA,IAAIA,GAAG,GAAGC,OAAO,CAAC,gBAAD,CAAjB,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAIC,UAAU,GAAG,CAAC,CAAC,YAAD,EAAe,CAAf,CAAD,EAAoB,CAAC,aAAD,EAAgB,MAAhB,CAApB,EAA6C,CAAC,eAAD,EAAkB,CAAlB,CAA7C,EAAmE,CAAC,eAAD,EAAkB,CAAlB,CAAnE,CAAjB;;AAEA,SAASC,QAAT,CAAkBC,YAAlB,EAAgC;EAC9B;EACA,OAAOJ,GAAG,CAACK,OAAJ,CAAYC,EAAZ,IAAkBN,GAAG,CAACK,OAAJ,CAAYE,OAAZ,IAAuB,EAAzC,GAA8C,YAAY;IAC/D,IAAIC,SAAS,GAAG,KAAKC,WAArB;IACA,IAAIC,KAAK,GAAG,KAAKA,KAAjB;IACA,IAAIC,QAAJ;;IAEA,IAAIH,SAAJ,EAAe;MACb,KAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,SAAS,CAACK,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;QACzC,IAAIE,QAAQ,GAAGN,SAAS,CAACI,CAAD,CAAxB;QACA,IAAIG,KAAK,GAAGD,QAAQ,IAAIA,QAAQ,CAACC,KAAjC;QACA,IAAIC,IAAI,GAAGF,QAAQ,IAAIA,QAAQ,CAACE,IAAhC;;QAEA,IAAID,KAAK,KAAKC,IAAI,KAAK,QAAT,IAAqBD,KAAK,CAACE,UAAN,KAAqBF,KAAK,CAACG,QAAhD,IAA4DF,IAAI,KAAK,MAAT,KAAoB,CAACD,KAAK,CAACI,KAAP,IAAgB,CAACJ,KAAK,CAACK,MAA3C,CAAjE,CAAT,EAA+H;UAC7H,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGnB,UAAU,CAACW,MAA/B,EAAuCQ,CAAC,EAAxC,EAA4C;YAC1C;YACA;YACAnB,UAAU,CAACmB,CAAD,CAAV,CAAc,CAAd,IAAmBX,KAAK,CAACR,UAAU,CAACmB,CAAD,CAAV,CAAc,CAAd,CAAD,CAAxB;YACAX,KAAK,CAACR,UAAU,CAACmB,CAAD,CAAV,CAAc,CAAd,CAAD,CAAL,GAA0BnB,UAAU,CAACmB,CAAD,CAAV,CAAc,CAAd,CAA1B;UACD;;UAEDV,QAAQ,GAAG,IAAX;UACA;QACD;MACF;IACF;;IAEDP,YAAY,CAACkB,KAAb,CAAmB,IAAnB,EAAyBC,SAAzB;;IAEA,IAAIZ,QAAJ,EAAc;MACZ,KAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGnB,UAAU,CAACW,MAA/B,EAAuCQ,CAAC,EAAxC,EAA4C;QAC1CX,KAAK,CAACR,UAAU,CAACmB,CAAD,CAAV,CAAc,CAAd,CAAD,CAAL,GAA0BnB,UAAU,CAACmB,CAAD,CAAV,CAAc,CAAd,CAA1B;MACD;IACF;EACF,CAhCM,GAgCHjB,YAhCJ;AAiCD;;AAEDoB,MAAM,CAACC,OAAP,GAAiBtB,QAAjB"},"metadata":{},"sourceType":"script"}