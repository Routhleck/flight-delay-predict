{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _dataProvider = require(\"../../data/helper/dataProvider\");\n\nvar retrieveRawValue = _dataProvider.retrieveRawValue;\n\nvar _format = require(\"../../util/format\");\n\nvar getTooltipMarker = _format.getTooltipMarker;\nvar formatTpl = _format.formatTpl;\n\nvar _model = require(\"../../util/model\");\n\nvar getTooltipRenderMode = _model.getTooltipRenderMode;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar DIMENSION_LABEL_REG = /\\{@(.+?)\\}/g; // PENDING A little ugly\n\nvar _default = {\n  /**\n   * Get params for formatter\n   * @param {number} dataIndex\n   * @param {string} [dataType]\n   * @return {Object}\n   */\n  getDataParams: function (dataIndex, dataType) {\n    var data = this.getData(dataType);\n    var rawValue = this.getRawValue(dataIndex, dataType);\n    var rawDataIndex = data.getRawIndex(dataIndex);\n    var name = data.getName(dataIndex);\n    var itemOpt = data.getRawDataItem(dataIndex);\n    var color = data.getItemVisual(dataIndex, 'color');\n    var borderColor = data.getItemVisual(dataIndex, 'borderColor');\n    var tooltipModel = this.ecModel.getComponent('tooltip');\n    var renderModeOption = tooltipModel && tooltipModel.get('renderMode');\n    var renderMode = getTooltipRenderMode(renderModeOption);\n    var mainType = this.mainType;\n    var isSeries = mainType === 'series';\n    var userOutput = data.userOutput;\n    return {\n      componentType: mainType,\n      componentSubType: this.subType,\n      componentIndex: this.componentIndex,\n      seriesType: isSeries ? this.subType : null,\n      seriesIndex: this.seriesIndex,\n      seriesId: isSeries ? this.id : null,\n      seriesName: isSeries ? this.name : null,\n      name: name,\n      dataIndex: rawDataIndex,\n      data: itemOpt,\n      dataType: dataType,\n      value: rawValue,\n      color: color,\n      borderColor: borderColor,\n      dimensionNames: userOutput ? userOutput.dimensionNames : null,\n      encode: userOutput ? userOutput.encode : null,\n      marker: getTooltipMarker({\n        color: color,\n        renderMode: renderMode\n      }),\n      // Param name list for mapping `a`, `b`, `c`, `d`, `e`\n      $vars: ['seriesName', 'name', 'value']\n    };\n  },\n\n  /**\n   * Format label\n   * @param {number} dataIndex\n   * @param {string} [status='normal'] 'normal' or 'emphasis'\n   * @param {string} [dataType]\n   * @param {number} [dimIndex] Only used in some chart that\n   *        use formatter in different dimensions, like radar.\n   * @param {string} [labelProp='label']\n   * @return {string} If not formatter, return null/undefined\n   */\n  getFormattedLabel: function (dataIndex, status, dataType, dimIndex, labelProp) {\n    status = status || 'normal';\n    var data = this.getData(dataType);\n    var itemModel = data.getItemModel(dataIndex);\n    var params = this.getDataParams(dataIndex, dataType);\n\n    if (dimIndex != null && params.value instanceof Array) {\n      params.value = params.value[dimIndex];\n    }\n\n    var formatter = itemModel.get(status === 'normal' ? [labelProp || 'label', 'formatter'] : [status, labelProp || 'label', 'formatter']);\n\n    if (typeof formatter === 'function') {\n      params.status = status;\n      params.dimensionIndex = dimIndex;\n      return formatter(params);\n    } else if (typeof formatter === 'string') {\n      var str = formatTpl(formatter, params); // Support 'aaa{@[3]}bbb{@product}ccc'.\n      // Do not support '}' in dim name util have to.\n\n      return str.replace(DIMENSION_LABEL_REG, function (origin, dim) {\n        var len = dim.length;\n\n        if (dim.charAt(0) === '[' && dim.charAt(len - 1) === ']') {\n          dim = +dim.slice(1, len - 1); // Also: '[]' => 0\n        }\n\n        return retrieveRawValue(data, dataIndex, dim);\n      });\n    }\n  },\n\n  /**\n   * Get raw value in option\n   * @param {number} idx\n   * @param {string} [dataType]\n   * @return {Array|number|string}\n   */\n  getRawValue: function (idx, dataType) {\n    return retrieveRawValue(this.getData(dataType), idx);\n  },\n\n  /**\n   * Should be implemented.\n   * @param {number} dataIndex\n   * @param {boolean} [multipleSeries=false]\n   * @param {number} [dataType]\n   * @return {string} tooltip string\n   */\n  formatTooltip: function () {// Empty function\n  }\n};\nmodule.exports = _default;","map":{"version":3,"names":["_dataProvider","require","retrieveRawValue","_format","getTooltipMarker","formatTpl","_model","getTooltipRenderMode","DIMENSION_LABEL_REG","_default","getDataParams","dataIndex","dataType","data","getData","rawValue","getRawValue","rawDataIndex","getRawIndex","name","getName","itemOpt","getRawDataItem","color","getItemVisual","borderColor","tooltipModel","ecModel","getComponent","renderModeOption","get","renderMode","mainType","isSeries","userOutput","componentType","componentSubType","subType","componentIndex","seriesType","seriesIndex","seriesId","id","seriesName","value","dimensionNames","encode","marker","$vars","getFormattedLabel","status","dimIndex","labelProp","itemModel","getItemModel","params","Array","formatter","dimensionIndex","str","replace","origin","dim","len","length","charAt","slice","idx","formatTooltip","module","exports"],"sources":["D:/Desktop/project/project/project/app/node_modules/echarts/lib/model/mixin/dataFormat.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _dataProvider = require(\"../../data/helper/dataProvider\");\n\nvar retrieveRawValue = _dataProvider.retrieveRawValue;\n\nvar _format = require(\"../../util/format\");\n\nvar getTooltipMarker = _format.getTooltipMarker;\nvar formatTpl = _format.formatTpl;\n\nvar _model = require(\"../../util/model\");\n\nvar getTooltipRenderMode = _model.getTooltipRenderMode;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar DIMENSION_LABEL_REG = /\\{@(.+?)\\}/g; // PENDING A little ugly\n\nvar _default = {\n  /**\n   * Get params for formatter\n   * @param {number} dataIndex\n   * @param {string} [dataType]\n   * @return {Object}\n   */\n  getDataParams: function (dataIndex, dataType) {\n    var data = this.getData(dataType);\n    var rawValue = this.getRawValue(dataIndex, dataType);\n    var rawDataIndex = data.getRawIndex(dataIndex);\n    var name = data.getName(dataIndex);\n    var itemOpt = data.getRawDataItem(dataIndex);\n    var color = data.getItemVisual(dataIndex, 'color');\n    var borderColor = data.getItemVisual(dataIndex, 'borderColor');\n    var tooltipModel = this.ecModel.getComponent('tooltip');\n    var renderModeOption = tooltipModel && tooltipModel.get('renderMode');\n    var renderMode = getTooltipRenderMode(renderModeOption);\n    var mainType = this.mainType;\n    var isSeries = mainType === 'series';\n    var userOutput = data.userOutput;\n    return {\n      componentType: mainType,\n      componentSubType: this.subType,\n      componentIndex: this.componentIndex,\n      seriesType: isSeries ? this.subType : null,\n      seriesIndex: this.seriesIndex,\n      seriesId: isSeries ? this.id : null,\n      seriesName: isSeries ? this.name : null,\n      name: name,\n      dataIndex: rawDataIndex,\n      data: itemOpt,\n      dataType: dataType,\n      value: rawValue,\n      color: color,\n      borderColor: borderColor,\n      dimensionNames: userOutput ? userOutput.dimensionNames : null,\n      encode: userOutput ? userOutput.encode : null,\n      marker: getTooltipMarker({\n        color: color,\n        renderMode: renderMode\n      }),\n      // Param name list for mapping `a`, `b`, `c`, `d`, `e`\n      $vars: ['seriesName', 'name', 'value']\n    };\n  },\n\n  /**\n   * Format label\n   * @param {number} dataIndex\n   * @param {string} [status='normal'] 'normal' or 'emphasis'\n   * @param {string} [dataType]\n   * @param {number} [dimIndex] Only used in some chart that\n   *        use formatter in different dimensions, like radar.\n   * @param {string} [labelProp='label']\n   * @return {string} If not formatter, return null/undefined\n   */\n  getFormattedLabel: function (dataIndex, status, dataType, dimIndex, labelProp) {\n    status = status || 'normal';\n    var data = this.getData(dataType);\n    var itemModel = data.getItemModel(dataIndex);\n    var params = this.getDataParams(dataIndex, dataType);\n\n    if (dimIndex != null && params.value instanceof Array) {\n      params.value = params.value[dimIndex];\n    }\n\n    var formatter = itemModel.get(status === 'normal' ? [labelProp || 'label', 'formatter'] : [status, labelProp || 'label', 'formatter']);\n\n    if (typeof formatter === 'function') {\n      params.status = status;\n      params.dimensionIndex = dimIndex;\n      return formatter(params);\n    } else if (typeof formatter === 'string') {\n      var str = formatTpl(formatter, params); // Support 'aaa{@[3]}bbb{@product}ccc'.\n      // Do not support '}' in dim name util have to.\n\n      return str.replace(DIMENSION_LABEL_REG, function (origin, dim) {\n        var len = dim.length;\n\n        if (dim.charAt(0) === '[' && dim.charAt(len - 1) === ']') {\n          dim = +dim.slice(1, len - 1); // Also: '[]' => 0\n        }\n\n        return retrieveRawValue(data, dataIndex, dim);\n      });\n    }\n  },\n\n  /**\n   * Get raw value in option\n   * @param {number} idx\n   * @param {string} [dataType]\n   * @return {Array|number|string}\n   */\n  getRawValue: function (idx, dataType) {\n    return retrieveRawValue(this.getData(dataType), idx);\n  },\n\n  /**\n   * Should be implemented.\n   * @param {number} dataIndex\n   * @param {boolean} [multipleSeries=false]\n   * @param {number} [dataType]\n   * @return {string} tooltip string\n   */\n  formatTooltip: function () {// Empty function\n  }\n};\nmodule.exports = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}